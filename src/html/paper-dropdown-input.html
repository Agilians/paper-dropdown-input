<link rel="import" href="/bower_components/polymer/polymer.html">

<!-- we're faking a paper-input, so we shamelessly copy its imports  -->
<link rel="import" href="/bower_components/paper-input/paper-input.html">

<link rel="import" href="/bower_components/iron-icon/iron-icon.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/paper-item/paper-item.html">
<link rel="import" href="/bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="/bower_components/paper-material/paper-material.html">

<link rel="import" href="/bower_components/neon-animation/neon-animation-runner-behavior.html">
<link rel="import" href="/bower_components/neon-animation/animations/fade-in-animation.html">
<link rel="import" href="/bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="expand-animation.html">

<dom-module id="paper-dropdown-input">
  <template>

    <template id="menuTemplate">
        <template is="dom-repeat" items="[[items]]" as="item">
          <paper-item>[[item]]</paper-item>
        </template>
		</template>

    <link rel="stylesheet" type="text/css" href="../css/paper-dropdown-input.css?__inline=true">

    <paper-input-container no-label-float="[[noLabelFloat]]"
                           always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]"
                           auto-validate$="[[autoValidate]]"
                           disabled$="[[disabled]]"
                           invalid="[[invalid]]"
                           focused="{{opened}}"
                           class="dropdown-trigger">

      <content select="[prefix]"></content>

      <label hidden$="[[!label]]" aria-hidden="true">[[label]]</label>

      <input is="iron-input" id="input"
            aria-labelledby$="[[_ariaLabelledBy]]"
            aria-describedby$="[[_ariaDescribedBy]]"
            disabled$="[[disabled]]"
            title$="[[title]]"
            bind-value="{{_inputvalue}}"
            invalid="{{invalid}}"
            prevent-invalid-input="[[preventInvalidInput]]"
            allowed-pattern="[[allowedPattern]]"
            validator="[[validator]]"
            type$="[[type]]"
            pattern$="[[pattern]]"
            required$="[[required]]"
            autocomplete$="[[autocomplete]]"
            autofocus$="[[autofocus]]"
            inputmode$="[[inputmode]]"
            minlength$="[[minlength]]"
            maxlength$="[[maxlength]]"
            min$="[[min]]"
            max$="[[max]]"
            step$="[[step]]"
            name$="[[name]]"
            placeholder$="[[placeholder]]"
            readonly$="[[readonly]]"
            list$="[[list]]"
            size$="[[size]]"
            autocapitalize$="[[autocapitalize]]"
            autocorrect$="[[autocorrect]]"
            tabindex$="[[tabindex]]"
            autosave$="[[autosave]]"
            results$="[[results]]"
            accept$="[[accept]]"
            multiple$="[[multiple]]">

      <content select="[suffix]"></content>
      <iron-icon icon$="[[_getIcon(immediateValue)]]" suffix on-click="_clearInput"></iron-icon>

      <template is="dom-if" if="[[errorMessage]]">
        <paper-input-error>[[errorMessage]]</paper-input-error>
      </template>

      <template is="dom-if" if="[[charCounter]]">
        <paper-input-char-counter></paper-input-char-counter>
      </template>
    </paper-input-container>

    <div class="container">
      <paper-material elevation="1" opened$="{{opened}}" id="menu">
        <paper-listbox on-click="_onClick">
          <content id="content"></content>
        </paper-listbox>
      </paper-material>
    </div>

    <!-- this div fulfills an a11y requirement for combobox, do not remove -->
    <div role="button"></div>
  </template>
  <script src="../javascript/paper-dropdown-input.js?__inline=true"></script>
</dom-module>
